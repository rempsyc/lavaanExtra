<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="lavaanExtra">
<title>Full CFA/SEM workflow • lavaanExtra</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Full CFA/SEM workflow">
<meta property="og:description" content="lavaanExtra">
<meta property="og:image" content="https://lavaanExtra.remi-theriault.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-274QZTFL23"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-274QZTFL23');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lavaanExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/regression.html">Regressions</a>
    <a class="dropdown-item" href="../articles/fullworkflow.html">Full CFA/SEM workflow</a>
    <a class="dropdown-item" href="../articles/example.html">Example lavaan models</a>
    <a class="dropdown-item" href="../articles/indirect.html">Automatic indirect effects</a>
    <a class="dropdown-item" href="../articles/special.html">Special cases</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../TODOS.html">To-dos</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://rempsyc.remi-theriault.com/" aria-label="rempsyc">rempsyc</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/rempsyc" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rempsyc/lavaanExtra" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sponsors/rempsyc" aria-label="Donate">
    <span class="fa fa-coffee"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="fullworkflow_files/tabwid-1.1.0/tabwid.css" rel="stylesheet">
<link href="fullworkflow_files/tabwid-1.1.0/scrool.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Full CFA/SEM workflow</h1>
                        <h4 data-toc-skip class="author">Rémi Thériault</h4>
            
            <h4 data-toc-skip class="date">August 29, 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rempsyc/lavaanExtra/blob/HEAD/vignettes/fullworkflow.Rmd" class="external-link"><code>vignettes/fullworkflow.Rmd</code></a></small>
      <div class="d-none name"><code>fullworkflow.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="cfa-example">CFA example<a class="anchor" aria-label="anchor" href="#cfa-example"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaanExtra.remi-theriault.com">lavaanExtra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define latent variables</span></span>
<span><span class="va">latent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>visual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>               textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>               speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">cfa.model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span>latent <span class="op">=</span> <span class="va">latent</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">cfa.model</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------------Latent variables---------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## visual =~ x1 + x2 + x3</span></span>
<span><span class="co">## textual =~ x4 + x5 + x6</span></span>
<span><span class="co">## speed =~ x7 + x8 + x9</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model fit and plot with `lavaanExtra::cfa_fit_plot`</span></span>
<span><span class="co"># to get the factor loadings visually (optionally as PDF)</span></span>
<span><span class="va">fit.cfa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cfa_fit_plot.html">cfa_fit_plot</a></span><span class="op">(</span><span class="va">cfa.model</span>, <span class="va">HolzingerSwineford1939</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-12 ended normally after 35 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                         ML</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                        21</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Number of observations                           301</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Robust</span></span>
<span><span class="co">##   Test Statistic                                85.306      87.132</span></span>
<span><span class="co">##   Degrees of freedom                                24          24</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  0.979</span></span>
<span><span class="co">##     Yuan-Bentler correction (Mplus variant)                       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Test statistic                               918.852     880.082</span></span>
<span><span class="co">##   Degrees of freedom                                36          36</span></span>
<span><span class="co">##   P-value                                        0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  1.044</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## User Model versus Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Comparative Fit Index (CFI)                    0.931       0.925</span></span>
<span><span class="co">##   Tucker-Lewis Index (TLI)                       0.896       0.888</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust Comparative Fit Index (CFI)                         0.930</span></span>
<span><span class="co">##   Robust Tucker-Lewis Index (TLI)                            0.895</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Loglikelihood and Information Criteria:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Loglikelihood user model (H0)              -3737.745   -3737.745</span></span>
<span><span class="co">##   Scaling correction factor                                  1.133</span></span>
<span><span class="co">##       for the MLR correction                                      </span></span>
<span><span class="co">##   Loglikelihood unrestricted model (H1)      -3695.092   -3695.092</span></span>
<span><span class="co">##   Scaling correction factor                                  1.051</span></span>
<span><span class="co">##       for the MLR correction                                      </span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Akaike (AIC)                                7517.490    7517.490</span></span>
<span><span class="co">##   Bayesian (BIC)                              7595.339    7595.339</span></span>
<span><span class="co">##   Sample-size adjusted Bayesian (BIC)         7528.739    7528.739</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Root Mean Square Error of Approximation:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   RMSEA                                          0.092       0.093</span></span>
<span><span class="co">##   90 Percent confidence interval - lower         0.071       0.073</span></span>
<span><span class="co">##   90 Percent confidence interval - upper         0.114       0.115</span></span>
<span><span class="co">##   P-value RMSEA &lt;= 0.05                          0.001       0.001</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust RMSEA                                               0.092</span></span>
<span><span class="co">##   90 Percent confidence interval - lower                     0.072</span></span>
<span><span class="co">##   90 Percent confidence interval - upper                     0.114</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Standardized Root Mean Square Residual:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   SRMR                                           0.065       0.065</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameter Estimates:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Standard errors                             Sandwich</span></span>
<span><span class="co">##   Information bread                           Observed</span></span>
<span><span class="co">##   Observed information based on                Hessian</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Latent Variables:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##   visual =~                                                             </span></span>
<span><span class="co">##     x1                1.000                               0.900    0.772</span></span>
<span><span class="co">##     x2                0.554    0.132    4.191    0.000    0.498    0.424</span></span>
<span><span class="co">##     x3                0.729    0.141    5.170    0.000    0.656    0.581</span></span>
<span><span class="co">##   textual =~                                                            </span></span>
<span><span class="co">##     x4                1.000                               0.990    0.852</span></span>
<span><span class="co">##     x5                1.113    0.066   16.946    0.000    1.102    0.855</span></span>
<span><span class="co">##     x6                0.926    0.061   15.089    0.000    0.917    0.838</span></span>
<span><span class="co">##   speed =~                                                              </span></span>
<span><span class="co">##     x7                1.000                               0.619    0.570</span></span>
<span><span class="co">##     x8                1.180    0.130    9.046    0.000    0.731    0.723</span></span>
<span><span class="co">##     x9                1.082    0.266    4.060    0.000    0.670    0.665</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Covariances:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##   visual ~~                                                             </span></span>
<span><span class="co">##     textual           0.408    0.099    4.110    0.000    0.459    0.459</span></span>
<span><span class="co">##     speed             0.262    0.060    4.366    0.000    0.471    0.471</span></span>
<span><span class="co">##   textual ~~                                                            </span></span>
<span><span class="co">##     speed             0.173    0.056    3.081    0.002    0.283    0.283</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variances:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##    .x1                0.549    0.156    3.509    0.000    0.549    0.404</span></span>
<span><span class="co">##    .x2                1.134    0.112   10.135    0.000    1.134    0.821</span></span>
<span><span class="co">##    .x3                0.844    0.100    8.419    0.000    0.844    0.662</span></span>
<span><span class="co">##    .x4                0.371    0.050    7.382    0.000    0.371    0.275</span></span>
<span><span class="co">##    .x5                0.446    0.057    7.870    0.000    0.446    0.269</span></span>
<span><span class="co">##    .x6                0.356    0.047    7.658    0.000    0.356    0.298</span></span>
<span><span class="co">##    .x7                0.799    0.097    8.222    0.000    0.799    0.676</span></span>
<span><span class="co">##    .x8                0.488    0.120    4.080    0.000    0.488    0.477</span></span>
<span><span class="co">##    .x9                0.566    0.119    4.768    0.000    0.566    0.558</span></span>
<span><span class="co">##     visual            0.809    0.180    4.486    0.000    1.000    1.000</span></span>
<span><span class="co">##     textual           0.979    0.121    8.075    0.000    1.000    1.000</span></span>
<span><span class="co">##     speed             0.384    0.107    3.596    0.000    1.000    1.000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## R-Square:</span></span>
<span><span class="co">##                    Estimate</span></span>
<span><span class="co">##     x1                0.596</span></span>
<span><span class="co">##     x2                0.179</span></span>
<span><span class="co">##     x3                0.338</span></span>
<span><span class="co">##     x4                0.725</span></span>
<span><span class="co">##     x5                0.731</span></span>
<span><span class="co">##     x6                0.702</span></span>
<span><span class="co">##     x7                0.324</span></span>
<span><span class="co">##     x8                0.523</span></span>
<span><span class="co">##     x9                0.442</span></span></code></pre>
<p><img src="https://lavaanExtra.remi-theriault.com/articles/images/fullworkflow/cfaplot.png" width="30%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get fit indices</span></span>
<span><span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     Model   chi2 df chi2.df p   CFI   TLI RMSEA  SRMR     AIC      BIC</span></span>
<span><span class="co">## 1 fit.cfa 85.306 24   3.554 0 0.931 0.896 0.092 0.065 7517.49 7595.339</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can get it prettier with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="ae9b63d7-c653-4f28-9d14-d305ca93ba2a"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-111d1c90{table-layout:auto;}.cl-11135390{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-111353a4{font-family:'Times New Roman';font-size:7.2pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.6pt;}.cl-111353ae{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-111353af{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1117995a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-11179964{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1117b76e{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1117b778{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1117b779{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-111d1c90">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">Model</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">χ</span><span class="cl-111353a4">2</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-111353ae">df</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">χ</span><span class="cl-111353a4">2</span><span class="cl-11135390">∕</span><span class="cl-111353ae">df</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-111353ae">p</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">CFI</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">TLI</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">RMSEA</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">SRMR</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">AIC</span></p></td>
<td class="cl-1117b76e"><p class="cl-1117995a"><span class="cl-11135390">BIC</span></p></td>
</tr></thead>
<tbody><tr style="overflow-wrap:break-word;">
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">fit.cfa</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">85.31</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">24</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">3.55</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">&lt; .001</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">0.93</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">0.90</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">0.09</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">0.07</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">7,517.49</span></p></td>
<td class="cl-1117b778"><p class="cl-1117995a"><span class="cl-11135390">7,595.34</span></p></td>
</tr></tbody>
<tfoot><tr style="overflow-wrap:break-word;">
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">Ideal Value</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">—</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">—</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">&lt; 2 or 3</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">&gt; .05</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">≥ .95</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">≥ .95</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">&lt; .06-.08</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">≤ .08</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">Smaller is better</span></p></td>
<td class="cl-1117b779"><p class="cl-11179964"><span class="cl-111353af">Smaller is better</span></p></td>
</tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="ecfb2af3-2caf-46a5-b600-20d00a846134"></div>
<script>
var dest = document.getElementById("ecfb2af3-2caf-46a5-b600-20d00a846134");
var template = document.getElementById("ae9b63d7-c653-4f28-9d14-d305ca93ba2a");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>But let’s say you had a bad fit and wanted to remove the three items with the lowest loadings, you can do so without have to respecify the model, only what items you wish to remove:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model fit and plot with `lavaanExtra::cfa_fit_plot`</span></span>
<span><span class="co"># to get the factor loadings visually (as PDF)</span></span>
<span><span class="va">fit.cfa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cfa_fit_plot.html">cfa_fit_plot</a></span><span class="op">(</span><span class="va">cfa.model</span>, <span class="va">HolzingerSwineford1939</span>,</span>
<span>                         remove.items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-12 ended normally after 29 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                         ML</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                        14</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Number of observations                           301</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Robust</span></span>
<span><span class="co">##   Test Statistic                                 8.442       7.313</span></span>
<span><span class="co">##   Degrees of freedom                                 7           7</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.295       0.397</span></span>
<span><span class="co">##   Scaling correction factor                                  1.154</span></span>
<span><span class="co">##     Yuan-Bentler correction (Mplus variant)                       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Test statistic                               674.095     599.025</span></span>
<span><span class="co">##   Degrees of freedom                                15          15</span></span>
<span><span class="co">##   P-value                                        0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  1.125</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## User Model versus Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Comparative Fit Index (CFI)                    0.998       0.999</span></span>
<span><span class="co">##   Tucker-Lewis Index (TLI)                       0.995       0.999</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust Comparative Fit Index (CFI)                         0.999</span></span>
<span><span class="co">##   Robust Tucker-Lewis Index (TLI)                            0.999</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Loglikelihood and Information Criteria:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Loglikelihood user model (H0)              -2429.864   -2429.864</span></span>
<span><span class="co">##   Scaling correction factor                                  1.137</span></span>
<span><span class="co">##       for the MLR correction                                      </span></span>
<span><span class="co">##   Loglikelihood unrestricted model (H1)      -2425.644   -2425.644</span></span>
<span><span class="co">##   Scaling correction factor                                  1.143</span></span>
<span><span class="co">##       for the MLR correction                                      </span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Akaike (AIC)                                4887.729    4887.729</span></span>
<span><span class="co">##   Bayesian (BIC)                              4939.628    4939.628</span></span>
<span><span class="co">##   Sample-size adjusted Bayesian (BIC)         4895.228    4895.228</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Root Mean Square Error of Approximation:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   RMSEA                                          0.026       0.012</span></span>
<span><span class="co">##   90 Percent confidence interval - lower         0.000       0.000</span></span>
<span><span class="co">##   90 Percent confidence interval - upper         0.079       0.069</span></span>
<span><span class="co">##   P-value RMSEA &lt;= 0.05                          0.713       0.814</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust RMSEA                                               0.013</span></span>
<span><span class="co">##   90 Percent confidence interval - lower                     0.000</span></span>
<span><span class="co">##   90 Percent confidence interval - upper                     0.078</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Standardized Root Mean Square Residual:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   SRMR                                           0.016       0.016</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Parameter Estimates:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Standard errors                             Sandwich</span></span>
<span><span class="co">##   Information bread                           Observed</span></span>
<span><span class="co">##   Observed information based on                Hessian</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Latent Variables:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##   visual =~                                                             </span></span>
<span><span class="co">##     x1                1.000                               1.165    1.000</span></span>
<span><span class="co">##   textual =~                                                            </span></span>
<span><span class="co">##     x4                1.000                               0.990    0.852</span></span>
<span><span class="co">##     x5                1.115    0.066   16.910    0.000    1.104    0.857</span></span>
<span><span class="co">##     x6                0.923    0.061   15.181    0.000    0.914    0.835</span></span>
<span><span class="co">##   speed =~                                                              </span></span>
<span><span class="co">##     x8                1.000                               0.515    0.510</span></span>
<span><span class="co">##     x9                1.722    0.398    4.322    0.000    0.887    0.881</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Covariances:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##   visual ~~                                                             </span></span>
<span><span class="co">##     textual           0.462    0.087    5.292    0.000    0.400    0.400</span></span>
<span><span class="co">##     speed             0.266    0.072    3.674    0.000    0.443    0.443</span></span>
<span><span class="co">##   textual ~~                                                            </span></span>
<span><span class="co">##     speed             0.149    0.055    2.726    0.006    0.291    0.291</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variances:</span></span>
<span><span class="co">##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all</span></span>
<span><span class="co">##    .x1                0.000                               0.000    0.000</span></span>
<span><span class="co">##    .x4                0.370    0.050    7.356    0.000    0.370    0.274</span></span>
<span><span class="co">##    .x5                0.441    0.056    7.822    0.000    0.441    0.266</span></span>
<span><span class="co">##    .x6                0.362    0.047    7.689    0.000    0.362    0.302</span></span>
<span><span class="co">##    .x8                0.756    0.090    8.407    0.000    0.756    0.740</span></span>
<span><span class="co">##    .x9                0.228    0.167    1.359    0.174    0.228    0.224</span></span>
<span><span class="co">##     visual            1.358    0.120   11.367    0.000    1.000    1.000</span></span>
<span><span class="co">##     textual           0.981    0.121    8.093    0.000    1.000    1.000</span></span>
<span><span class="co">##     speed             0.266    0.082    3.248    0.001    1.000    1.000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## R-Square:</span></span>
<span><span class="co">##                    Estimate</span></span>
<span><span class="co">##     x1                1.000</span></span>
<span><span class="co">##     x4                0.726</span></span>
<span><span class="co">##     x5                0.734</span></span>
<span><span class="co">##     x6                0.698</span></span>
<span><span class="co">##     x8                0.260</span></span>
<span><span class="co">##     x9                0.776</span></span></code></pre>
<p><img src="https://lavaanExtra.remi-theriault.com/articles/images/fullworkflow/cfaplot2.png" width="30%"></p>
<p>Let’s compare the fit to see if it’s better now:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span>, <span class="va">fit.cfa2</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="2f717fad-d359-47a0-aeb0-42ce624909d0"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-117faaa4{table-layout:auto;}.cl-11769aa4{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-11769ab8{font-family:'Times New Roman';font-size:7.2pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.6pt;}.cl-11769ab9{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-11769ac2{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-117aa6a8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-117aa6b2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-117ac1ec{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-117ac1f6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-117ac200{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-117ac20a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-117faaa4">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">Model</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">χ</span><span class="cl-11769ab8">2</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769ab9">df</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">χ</span><span class="cl-11769ab8">2</span><span class="cl-11769aa4">∕</span><span class="cl-11769ab9">df</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769ab9">p</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">CFI</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">TLI</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">RMSEA</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">SRMR</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">AIC</span></p></td>
<td class="cl-117ac1ec"><p class="cl-117aa6a8"><span class="cl-11769aa4">BIC</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">fit.cfa</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">85.31</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">24</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">3.55</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">&lt; .001</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.93</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.90</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.09</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.07</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">7,517.49</span></p></td>
<td class="cl-117ac1f6"><p class="cl-117aa6a8"><span class="cl-11769aa4">7,595.34</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">fit.cfa2</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">8.44</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">7</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">1.21</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">.295</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">1.00</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.99</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.03</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">0.02</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">4,887.73</span></p></td>
<td class="cl-117ac200"><p class="cl-117aa6a8"><span class="cl-11769aa4">4,939.63</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;">
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">Ideal Value</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">—</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">—</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">&lt; 2 or 3</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">&gt; .05</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">≥ .95</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">≥ .95</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">&lt; .06-.08</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">≤ .08</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">Smaller is better</span></p></td>
<td class="cl-117ac20a"><p class="cl-117aa6b2"><span class="cl-11769ac2">Smaller is better</span></p></td>
</tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="5e8c8c43-c284-4043-923d-cf0a7c7b2efd"></div>
<script>
var dest = document.getElementById("5e8c8c43-c284-4043-923d-cf0a7c7b2efd");
var template = document.getElementById("2f717fad-d359-47a0-aeb0-42ce624909d0");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>It is! If you like this table, you may also wish to save it to Word. Also easy:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Save fit table as an object</span></span>
<span><span class="va">fit_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span>, <span class="va">fit.cfa2</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save fit table to Word!</span></span>
<span><span class="fu"><a href="../reference/save_as_x.html">save_as_docx</a></span><span class="op">(</span><span class="va">fit_table</span>, path <span class="op">=</span> <span class="st">"fit_table.docx"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sem-example">SEM example<a class="anchor" aria-label="anchor" href="#sem-example"></a>
</h2>
<p>Here is a structural equation model example. We start with a path analysis first.</p>
<div class="section level3">
<h3 id="saturated-model">Saturated model<a class="anchor" aria-label="anchor" href="#saturated-model"></a>
</h3>
<p>One might decide to look at the saturated <code>lavaan</code> model first.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate scale averages</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">HolzingerSwineford1939</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">visual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">textual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">speed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our variables</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="st">"visual"</span></span>
<span><span class="va">IV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageyr"</span>, <span class="st">"grade"</span><span class="op">)</span></span>
<span><span class="va">DV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"speed"</span>, <span class="st">"textual"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our lavaan lists</span></span>
<span><span class="va">mediation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">M</span>, textual <span class="op">=</span> <span class="va">M</span>, visual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span><span class="va">regression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">IV</span>, textual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span><span class="va">covariance</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="st">"textual"</span>, ageyr <span class="op">=</span> <span class="st">"grade"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual</span></span>
<span><span class="co">## textual ~ visual</span></span>
<span><span class="co">## visual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span></code></pre>
<p>This looks good so far, but we might also want to check our indirect effects (mediations). For this, we have to obtain the path names by setting <code>label = TRUE</code>. This will allow us to define our indirect effects and feed them back to <code>write_lavaan</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can run the model again. </span></span>
<span><span class="co"># However, we set `label = TRUE` to get the path names</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span></code></pre>
<p>Here, if we check the mediation section of the model, we see that it has been “augmented” with the path names. Those are <code>visual_speed</code>, <code>visual_textual</code>, <code>ageyr_visual</code>, and <code>grade_visual</code>. The logic for the determination of the path names is predictable: it is always the predictor variable, on the left, followed by the predicted variable, on the right. So if we were to test all possible indirect effects, we would define our <code>indirect</code> object as such:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ageyr_visual_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageyr_visual"</span>, <span class="st">"visual_speed"</span><span class="op">)</span>,</span>
<span>                 ageyr_visual_textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageyr_visual"</span>, <span class="st">"visual_textual"</span><span class="op">)</span>,</span>
<span>                 grade_visual_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grade_visual"</span>, <span class="st">"visual_speed"</span><span class="op">)</span>,</span>
<span>                 grade_visual_textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grade_visual"</span>, <span class="st">"visual_textual"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                                <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ageyr_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## ageyr_visual_textual := ageyr_visual * visual_textual</span></span>
<span><span class="co">## grade_visual_speed := grade_visual * visual_speed</span></span>
<span><span class="co">## grade_visual_textual := grade_visual * visual_textual</span></span></code></pre>
<p>If preferred (e.g., when dealing with long variable names), one can choose to use letters for the predictor variables. Note however that this tends to be somewhat more confusing and ambiguous.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                                label <span class="op">=</span> <span class="cn">TRUE</span>, use.letters <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ a_speed*visual</span></span>
<span><span class="co">## textual ~ a_textual*visual</span></span>
<span><span class="co">## visual ~ a_visual*ageyr + b_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span></code></pre>
<p>In this case, the path names are <code>a_speed</code>, <code>a_textual</code>, <code>a_visual</code>, and <code>b_visual</code>. So we would define our <code>indirect</code> object as such:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ageyr_visual_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a_visual"</span>, <span class="st">"a_speed"</span><span class="op">)</span>,</span>
<span>                 ageyr_visual_textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a_visual"</span>, <span class="st">"a_textual"</span><span class="op">)</span>,</span>
<span>                 grade_visual_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b_visual"</span>, <span class="st">"a_speed"</span><span class="op">)</span>,</span>
<span>                 grade_visual_textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b_visual"</span>, <span class="st">"a_textual"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                                <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, use.letters <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ a_speed*visual</span></span>
<span><span class="co">## textual ~ a_textual*visual</span></span>
<span><span class="co">## visual ~ a_visual*ageyr + b_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ageyr_visual_speed := a_visual * a_speed</span></span>
<span><span class="co">## ageyr_visual_textual := a_visual * a_textual</span></span>
<span><span class="co">## grade_visual_speed := b_visual * a_speed</span></span>
<span><span class="co">## grade_visual_textual := b_visual * a_textual</span></span></code></pre>
<p>There is also an experimental feature that attempts to produce the indirect effects automatically. This feature requires specifying your independent, dependent, and mediator variables as “IV”, “M”, and “DV”, respectively, in the <code>indirect</code> object. In our case, we have already defined those earlier, so we can just feed the proper objects.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>IV <span class="op">=</span> <span class="va">IV</span>, M <span class="op">=</span> <span class="va">M</span>, DV <span class="op">=</span> <span class="va">DV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                                <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.saturated</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ageyr_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## ageyr_visual_textual := ageyr_visual * visual_textual</span></span>
<span><span class="co">## grade_visual_speed := grade_visual * visual_speed</span></span>
<span><span class="co">## grade_visual_textual := grade_visual * visual_textual</span></span></code></pre>
<p>We are now satisfied with our model, so we can finally fit it!</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model with `lavaan`</span></span>
<span><span class="va">fit.saturated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">model.saturated</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get regression parameters only </span></span>
<span><span class="co"># And make it pretty with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/lavaan_reg.html">lavaan_reg</a></span><span class="op">(</span><span class="va">fit.saturated</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span>, highlight <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="fed8c5cb-bcb6-4859-9ffa-fad4c2c9681f"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-124fb4ec{table-layout:auto;}.cl-1247458c{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-124745a0{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-124745aa{font-family:'Times New Roman';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-124afb46{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-124b1400{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-124b140a{background-color:rgba(217, 217, 217, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-124b1414{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-124b141e{background-color:rgba(217, 217, 217, 1.00);vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-124fb4ec">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-124b1400"><p class="cl-124afb46"><span class="cl-1247458c">Outcome</span></p></td>
<td class="cl-124b1400"><p class="cl-124afb46"><span class="cl-1247458c">Predictor</span></p></td>
<td class="cl-124b1400"><p class="cl-124afb46"><span class="cl-1247458c">β</span></p></td>
<td class="cl-124b1400"><p class="cl-124afb46"><span class="cl-124745a0">p</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">speed</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">visual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">0.21</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">textual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">visual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">0.24</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">visual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">ageyr</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">-0.16</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">.014</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">visual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">grade</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">0.28</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b1414"><p class="cl-124afb46"><span class="cl-1247458c">speed</span></p></td>
<td class="cl-124b1414"><p class="cl-124afb46"><span class="cl-1247458c">ageyr</span></p></td>
<td class="cl-124b1414"><p class="cl-124afb46"><span class="cl-1247458c">0.04</span></p></td>
<td class="cl-124b1414"><p class="cl-124afb46"><span class="cl-1247458c">.568</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">speed</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">grade</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">0.31</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">textual</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">ageyr</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">-0.40</span></p></td>
<td class="cl-124b140a"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-124b141e"><p class="cl-124afb46"><span class="cl-124745aa">textual</span></p></td>
<td class="cl-124b141e"><p class="cl-124afb46"><span class="cl-124745aa">grade</span></p></td>
<td class="cl-124b141e"><p class="cl-124afb46"><span class="cl-124745aa">0.36</span></p></td>
<td class="cl-124b141e"><p class="cl-124afb46"><span class="cl-124745aa">&lt; .001</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="34013f42-e2e7-4c8f-a8e8-3343cd37a513"></div>
<script>
var dest = document.getElementById("34013f42-e2e7-4c8f-a8e8-3343cd37a513");
var template = document.getElementById("fed8c5cb-bcb6-4859-9ffa-fad4c2c9681f");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>So <code>speed</code> as predicted by <code>ageyr</code> isn’t significant. We could remove that path from the model it if we are trying to make a more parsimonious model. Let’s make the non-saturated path analysis model next.</p>
</div>
<div class="section level3">
<h3 id="path-analysis-model">Path analysis model<a class="anchor" aria-label="anchor" href="#path-analysis-model"></a>
</h3>
<p>Because we use <code>lavaanExtra</code>, we don’t have to redefine the entire model: simply what we want to update. In this case, the regressions and the indirect effects.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="st">"grade"</span>, textual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># We can run the model again, setting `label = TRUE` to get the path names</span></span>
<span><span class="va">model.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We check that we have removed "ageyr" correctly from "speed" in the </span></span>
<span><span class="co"># regression section. OK.</span></span>
<span></span>
<span><span class="co"># Define just our indirect effects of interest</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>age_visual_speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageyr_visual"</span>, <span class="st">"visual_speed"</span><span class="op">)</span>,</span>
<span>                 grade_visual_textual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grade_visual"</span>, <span class="st">"visual_textual"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># We run the model again, with the indirect effects</span></span>
<span><span class="va">model.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                           <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## age_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## grade_visual_textual := grade_visual * visual_textual</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model with `lavaan`</span></span>
<span><span class="va">fit.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">model.path</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get regression parameters only</span></span>
<span><span class="fu"><a href="../reference/lavaan_reg.html">lavaan_reg</a></span><span class="op">(</span><span class="va">fit.path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   Outcome Predictor      B     p</span></span>
<span><span class="co">## 1   speed    visual  0.206 0.000</span></span>
<span><span class="co">## 2 textual    visual  0.235 0.000</span></span>
<span><span class="co">## 3  visual     ageyr -0.161 0.014</span></span>
<span><span class="co">## 4  visual     grade  0.281 0.000</span></span>
<span><span class="co">## 5   speed     grade  0.327 0.000</span></span>
<span><span class="co">## 6 textual     ageyr -0.403 0.000</span></span>
<span><span class="co">## 7 textual     grade  0.358 0.000</span></span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can get it prettier with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/lavaan_reg.html">lavaan_reg</a></span><span class="op">(</span><span class="va">fit.path</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span>, highlight <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="dcda9aea-0639-4052-8345-978de3c90966"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-12852c6c{table-layout:auto;}.cl-127c0614{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-127c0628{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-127c0629{font-family:'Times New Roman';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1280855e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-12809e9a{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12809ea4{background-color:rgba(217, 217, 217, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12809eae{background-color:rgba(217, 217, 217, 1.00);vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-12852c6c">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-12809e9a"><p class="cl-1280855e"><span class="cl-127c0614">Outcome</span></p></td>
<td class="cl-12809e9a"><p class="cl-1280855e"><span class="cl-127c0614">Predictor</span></p></td>
<td class="cl-12809e9a"><p class="cl-1280855e"><span class="cl-127c0614">β</span></p></td>
<td class="cl-12809e9a"><p class="cl-1280855e"><span class="cl-127c0628">p</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">speed</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">visual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">0.21</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">textual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">visual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">0.24</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">visual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">ageyr</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">-0.16</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">.014</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">visual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">grade</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">0.28</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">speed</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">grade</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">0.33</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">textual</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">ageyr</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">-0.40</span></p></td>
<td class="cl-12809ea4"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12809eae"><p class="cl-1280855e"><span class="cl-127c0629">textual</span></p></td>
<td class="cl-12809eae"><p class="cl-1280855e"><span class="cl-127c0629">grade</span></p></td>
<td class="cl-12809eae"><p class="cl-1280855e"><span class="cl-127c0629">0.36</span></p></td>
<td class="cl-12809eae"><p class="cl-1280855e"><span class="cl-127c0629">&lt; .001</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="10d78abf-9a5a-410c-badb-ccd1997e9b63"></div>
<script>
var dest = document.getElementById("10d78abf-9a5a-410c-badb-ccd1997e9b63");
var template = document.getElementById("dcda9aea-0639-4052-8345-978de3c90966");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We only kept significant regressions. Good (for this demo).</span></span>
<span></span>
<span><span class="co"># Get covariance indices</span></span>
<span><span class="fu"><a href="../reference/lavaan_cov.html">lavaan_cov</a></span><span class="op">(</span><span class="va">fit.path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    Variable.1 Variable.2     r     p</span></span>
<span><span class="co">## 8       speed    textual 0.131 0.024</span></span>
<span><span class="co">## 9       ageyr      grade 0.511 0.000</span></span>
<span><span class="co">## 10      speed      speed 0.824 0.000</span></span>
<span><span class="co">## 11    textual    textual 0.765 0.000</span></span>
<span><span class="co">## 12     visual     visual 0.942 0.000</span></span>
<span><span class="co">## 13      ageyr      ageyr 1.000 0.000</span></span>
<span><span class="co">## 14      grade      grade 1.000 0.000</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can get it prettier with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/lavaan_cov.html">lavaan_cov</a></span><span class="op">(</span><span class="va">fit.path</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="10964440-70d1-4083-bdca-6f2ed797f17a"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-12a01afe{table-layout:auto;}.cl-1297d0f6{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1297d10a{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-129b7832{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-129b9006{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-129b9010{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-129b901a{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-12a01afe">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-129b9006"><p class="cl-129b7832"><span class="cl-1297d0f6">Variable 1</span></p></td>
<td class="cl-129b9006"><p class="cl-129b7832"><span class="cl-1297d0f6">Variable 2</span></p></td>
<td class="cl-129b9006"><p class="cl-129b7832"><span class="cl-1297d10a">r</span></p></td>
<td class="cl-129b9006"><p class="cl-129b7832"><span class="cl-1297d10a">p</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">speed</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">textual</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.13</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.024</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">ageyr</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">grade</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.51</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">speed</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">speed</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.82</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">textual</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">textual</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.76</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">visual</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">visual</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">.94</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">ageyr</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">ageyr</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">1.0</span></p></td>
<td class="cl-129b9010"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-129b901a"><p class="cl-129b7832"><span class="cl-1297d0f6">grade</span></p></td>
<td class="cl-129b901a"><p class="cl-129b7832"><span class="cl-1297d0f6">grade</span></p></td>
<td class="cl-129b901a"><p class="cl-129b7832"><span class="cl-1297d0f6">1.0</span></p></td>
<td class="cl-129b901a"><p class="cl-129b7832"><span class="cl-1297d0f6">&lt; .001</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="a84cec0d-92d9-4c6f-8595-035e7c2aaba2"></div>
<script>
var dest = document.getElementById("a84cec0d-92d9-4c6f-8595-035e7c2aaba2");
var template = document.getElementById("10964440-70d1-4083-bdca-6f2ed797f17a");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get nice fit indices with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span>, <span class="va">fit.saturated</span>, <span class="va">fit.path</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="155166cc-0fb1-4b1a-882b-6c7acaa3807c"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-12cfd33e{table-layout:auto;}.cl-12c6f3ea{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-12c6f3f4{font-family:'Times New Roman';font-size:7.2pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.6pt;}.cl-12c6f3fe{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-12c6f408{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-12cae73e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-12cae752{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-12cb0048{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12cb0052{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12cb005c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12cb005d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-12cfd33e">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">Model</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">χ</span><span class="cl-12c6f3f4">2</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3fe">df</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">χ</span><span class="cl-12c6f3f4">2</span><span class="cl-12c6f3ea">∕</span><span class="cl-12c6f3fe">df</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3fe">p</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">CFI</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">TLI</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">RMSEA</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">SRMR</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">AIC</span></p></td>
<td class="cl-12cb0048"><p class="cl-12cae73e"><span class="cl-12c6f3ea">BIC</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">fit.cfa</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">85.31</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">24</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">3.55</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">&lt; .001</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.93</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.90</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.09</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.07</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">7,517.49</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">7,595.34</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">fit.saturated</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.00</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea"></span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea"></span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">1.00</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">1.00</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.00</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.00</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">3,483.46</span></p></td>
<td class="cl-12cb0052"><p class="cl-12cae73e"><span class="cl-12c6f3ea">3,539.02</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">fit.path</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.33</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">1</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.33</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">.568</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">1.00</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">1.03</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.00</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">0.01</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">3,481.79</span></p></td>
<td class="cl-12cb005c"><p class="cl-12cae73e"><span class="cl-12c6f3ea">3,533.64</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;">
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">Ideal Value</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">—</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">—</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">&lt; 2 or 3</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">&gt; .05</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">≥ .95</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">≥ .95</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">&lt; .06-.08</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">≤ .08</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">Smaller is better</span></p></td>
<td class="cl-12cb005d"><p class="cl-12cae752"><span class="cl-12c6f408">Smaller is better</span></p></td>
</tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="43dfa56d-dd9a-4edf-aa2c-30a76b04866e"></div>
<script>
var dest = document.getElementById("43dfa56d-dd9a-4edf-aa2c-30a76b04866e");
var template = document.getElementById("155166cc-0fb1-4b1a-882b-6c7acaa3807c");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Let's get the indirect effects only</span></span>
<span><span class="fu"><a href="../reference/lavaan_ind.html">lavaan_ind</a></span><span class="op">(</span><span class="va">fit.path</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         Indirect.Effect                       Paths      B     p</span></span>
<span><span class="co">## 15     age_visual_speed   ageyr_visual*visual_speed -0.033 0.037</span></span>
<span><span class="co">## 16 grade_visual_textual grade_visual*visual_textual  0.066 0.002</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can get it prettier with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/lavaan_ind.html">lavaan_ind</a></span><span class="op">(</span><span class="va">fit.path</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="b0a72152-a1a4-4051-a17e-112b52820d94"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-12e92528{table-layout:auto;}.cl-12e0e85e{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-12e0e872{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-12e489aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-12e4a160{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12e4a16a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-12e4a174{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-12e92528">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-12e4a160"><p class="cl-12e489aa"><span class="cl-12e0e85e">Indirect Effect</span></p></td>
<td class="cl-12e4a160"><p class="cl-12e489aa"><span class="cl-12e0e85e">Paths</span></p></td>
<td class="cl-12e4a160"><p class="cl-12e489aa"><span class="cl-12e0e85e">β</span></p></td>
<td class="cl-12e4a160"><p class="cl-12e489aa"><span class="cl-12e0e872">p</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-12e4a16a"><p class="cl-12e489aa"><span class="cl-12e0e85e">age_visual_speed</span></p></td>
<td class="cl-12e4a16a"><p class="cl-12e489aa"><span class="cl-12e0e85e">ageyr_visual*visual_speed</span></p></td>
<td class="cl-12e4a16a"><p class="cl-12e489aa"><span class="cl-12e0e85e">-0.03</span></p></td>
<td class="cl-12e4a16a"><p class="cl-12e489aa"><span class="cl-12e0e85e">.037</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-12e4a174"><p class="cl-12e489aa"><span class="cl-12e0e85e">grade_visual_textual</span></p></td>
<td class="cl-12e4a174"><p class="cl-12e489aa"><span class="cl-12e0e85e">grade_visual*visual_textual</span></p></td>
<td class="cl-12e4a174"><p class="cl-12e489aa"><span class="cl-12e0e85e">0.07</span></p></td>
<td class="cl-12e4a174"><p class="cl-12e489aa"><span class="cl-12e0e85e">.002</span></p></td>
</tr>
</tbody>
</table>
</div></template><div class="flextable-shadow-host" id="539225c4-2106-4631-8316-eb59ca52601f"></div>
<script>
var dest = document.getElementById("539225c4-2106-4631-8316-eb59ca52601f");
var template = document.getElementById("b0a72152-a1a4-4051-a17e-112b52820d94");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get modification indices only</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/modificationIndices.html" class="external-link">modindices</a></span><span class="op">(</span><span class="va">fit.path</span>, sort <span class="op">=</span> <span class="cn">TRUE</span>, maximum.number <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       lhs op     rhs    mi    epc sepc.lv sepc.all sepc.nox</span></span>
<span><span class="co">## 29 visual  ~ textual 0.326  1.622   1.622    1.975    1.975</span></span>
<span><span class="co">## 35  grade  ~ textual 0.326 -0.228  -0.228   -0.488   -0.488</span></span>
<span><span class="co">## 34  grade  ~   speed 0.326 -0.038  -0.038   -0.062   -0.062</span></span>
<span><span class="co">## 19  speed ~~   grade 0.326 -0.021  -0.021   -0.056   -0.056</span></span>
<span><span class="co">## 25  speed  ~ textual 0.326 -0.067  -0.067   -0.087   -0.087</span></span></code></pre>
<p>For reference, this is our model, visually speaking</p>
<p><img src="https://lavaanExtra.remi-theriault.com/articles/images/fullworkflow/holzinger_model.png"></p>
<p>We could also attempt to draw it with <code><a href="../reference/nice_tidySEM.html">lavaanExtra::nice_tidySEM</a></code>, a convenience wrapper around the amazing <code>tidySEM</code> package.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ageyr <span class="op">=</span> <span class="st">"Age (year)"</span>,</span>
<span>               grade <span class="op">=</span> <span class="st">"Grade"</span>,</span>
<span>               visual <span class="op">=</span> <span class="st">"Visual"</span>,</span>
<span>               speed <span class="op">=</span> <span class="st">"Speed"</span>,</span>
<span>               textual <span class="op">=</span> <span class="st">"Textual"</span><span class="op">)</span></span>
<span><span class="va">layout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>IV <span class="op">=</span> <span class="va">IV</span>, M <span class="op">=</span> <span class="va">M</span>, DV <span class="op">=</span> <span class="va">DV</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/nice_tidySEM.html">nice_tidySEM</a></span><span class="op">(</span><span class="va">fit.path</span>, layout <span class="op">=</span> <span class="va">layout</span>, label <span class="op">=</span> <span class="va">labels</span>,</span>
<span>             hide_nonsig_edges <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="fullworkflow_files/figure-html/nice_tidySEM-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="latent-model">Latent model<a class="anchor" aria-label="anchor" href="#latent-model"></a>
</h3>
<p>Finally, perhaps we change our mind and decide to run a full SEM instead, with latent variables. Fear not: we don’t have to redo everything again. We can simply define our latent variables and proceed. In this example, we have <em>already</em> defined our latent variable for our CFA earlier, so we don’t even need to write that again!</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model.latent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, <span class="va">covariance</span>, </span>
<span>                             <span class="va">indirect</span>, <span class="va">latent</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model.latent</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------------Latent variables---------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## visual =~ x1 + x2 + x3</span></span>
<span><span class="co">## textual =~ x4 + x5 + x6</span></span>
<span><span class="co">## speed =~ x7 + x8 + x9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [------------------Covariances-----------------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~~ textual</span></span>
<span><span class="co">## ageyr ~~ grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## age_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## grade_visual_textual := grade_visual * visual_textual</span></span></code></pre>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run model</span></span>
<span><span class="va">fit.latent</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">model.latent</span>, data <span class="op">=</span> <span class="va">HolzingerSwineford1939</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get nice fit indices with the `rempsyc::nice_table` integration</span></span>
<span><span class="fu"><a href="../reference/nice_fit.html">nice_fit</a></span><span class="op">(</span><span class="va">fit.cfa</span>, <span class="va">fit.saturated</span>, <span class="va">fit.path</span>, <span class="va">fit.latent</span>, nice_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<template id="c3ae45c8-062e-4883-a4a3-fdcd7df0cf18"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style>
<div class="tabwid">
<style>.cl-157f1658{table-layout:auto;}.cl-157434d6{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-157434ea{font-family:'Times New Roman';font-size:7.2pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.6pt;}.cl-157434eb{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-157434f4{font-family:'Times New Roman';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1578fef8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 2;background-color:transparent;}.cl-1578ff0c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-15791dde{background-color:transparent;vertical-align: middle;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15791df2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15791df3{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-15791dfc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-157f1658">
<thead><tr style="overflow-wrap:break-word;">
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">Model</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">χ</span><span class="cl-157434ea">2</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434eb">df</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">χ</span><span class="cl-157434ea">2</span><span class="cl-157434d6">∕</span><span class="cl-157434eb">df</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434eb">p</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">CFI</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">TLI</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">RMSEA</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">SRMR</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">AIC</span></p></td>
<td class="cl-15791dde"><p class="cl-1578fef8"><span class="cl-157434d6">BIC</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">fit.cfa</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">85.31</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">24</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">3.55</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">&lt; .001</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.93</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.90</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.09</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.07</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">7,517.49</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">7,595.34</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">fit.saturated</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6"></span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6"></span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">1.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">1.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">3,483.46</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">3,539.02</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">fit.path</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.33</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">1</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.33</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">.568</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">1.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">1.03</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.00</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">0.01</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">3,481.79</span></p></td>
<td class="cl-15791df2"><p class="cl-1578fef8"><span class="cl-157434d6">3,533.64</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">fit.latent</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">118.92</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">37</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">3.21</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">&lt; .001</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">0.92</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">0.89</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">0.09</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">0.06</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">8,638.79</span></p></td>
<td class="cl-15791df3"><p class="cl-1578fef8"><span class="cl-157434d6">8,746.20</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;">
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">Ideal Value</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">—</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">—</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">&lt; 2 or 3</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">&gt; .05</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">≥ .95</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">≥ .95</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">&lt; .06-.08</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">≤ .08</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">Smaller is better</span></p></td>
<td class="cl-15791dfc"><p class="cl-1578ff0c"><span class="cl-157434f4">Smaller is better</span></p></td>
</tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="96c43fd1-1599-4a72-be23-5f1622775fb5"></div>
<script>
var dest = document.getElementById("96c43fd1-1599-4a72-be23-5f1622775fb5");
var template = document.getElementById("c3ae45c8-062e-4883-a4a3-fdcd7df0cf18");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://remi-theriault.com" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
