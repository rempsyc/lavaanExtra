<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="lavaanExtra">
<title>Automatic indirect effects • lavaanExtra</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Automatic indirect effects">
<meta property="og:description" content="lavaanExtra">
<meta property="og:image" content="https://lavaanExtra.remi-theriault.com/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-274QZTFL23"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-274QZTFL23');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lavaanExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/regression.html">Regressions</a>
    <a class="dropdown-item" href="../articles/fullworkflow.html">Full CFA/SEM workflow</a>
    <a class="dropdown-item" href="../articles/example.html">Example lavaan models</a>
    <a class="dropdown-item" href="../articles/indirect.html">Automatic indirect effects</a>
    <a class="dropdown-item" href="../articles/special.html">Special cases</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../TODOS.html">To-dos</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://rempsyc.remi-theriault.com/" aria-label="rempsyc">rempsyc</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/rempsyc" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rempsyc/lavaanExtra" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sponsors/rempsyc" aria-label="Donate">
    <span class="fa fa-coffee"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="indirect_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="indirect_files/viz-1.8.2/viz.js"></script><link href="indirect_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="indirect_files/grViz-binding-1.0.9/grViz.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Automatic indirect effects</h1>
                        <h4 data-toc-skip class="author">Rémi Thériault</h4>
            
            <h4 data-toc-skip class="date">August 29, 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rempsyc/lavaanExtra/blob/HEAD/vignettes/indirect.Rmd" class="external-link"><code>vignettes/indirect.Rmd</code></a></small>
      <div class="d-none name"><code>indirect.Rmd</code></div>
    </div>

    
    
<p>This article demonstrates ways to produce indirect effects automatically for different scenarios. This is an experimental feature and does not support all scenarios. Progress for more scenarios will be implemented progressively. If using this feature, always triple check that your model was specified correctly.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## This is lavaan 0.6-12</span></span>
<span><span class="co">## lavaan is FREE software! Please report any bugs.</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaanExtra.remi-theriault.com">lavaanExtra</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Suggested citation: Thériault, R. (2022). lavaanExtra: Convenience functions for lavaan </span></span>
<span><span class="co">## (R package version 0.0.6) [Computer software]. https://lavaanExtra.remi-theriault.com/</span></span></code></pre>
<div class="section level2">
<h2 id="one-mediator-two-ivs">One mediator, two IVs<a class="anchor" aria-label="anchor" href="#one-mediator-two-ivs"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate scale averages</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">HolzingerSwineford1939</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">visual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">textual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">speed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our variables</span></span>
<span><span class="va">IV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ageyr"</span>, <span class="st">"grade"</span><span class="op">)</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="st">"visual"</span></span>
<span><span class="va">DV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"speed"</span>, <span class="st">"textual"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our lavaan lists</span></span>
<span><span class="va">mediation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">M</span>, textual <span class="op">=</span> <span class="va">M</span>, visual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span><span class="va">regression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">IV</span>, textual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>M <span class="op">=</span> <span class="va">M</span>, DV <span class="op">=</span> <span class="va">DV</span>, IV <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, indirect <span class="op">=</span> <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual</span></span>
<span><span class="co">## textual ~ visual_textual*visual</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr + grade_visual*grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr + grade</span></span>
<span><span class="co">## textual ~ ageyr + grade</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ageyr_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## ageyr_visual_textual := ageyr_visual * visual_textual</span></span>
<span><span class="co">## grade_visual_speed := grade_visual * visual_speed</span></span>
<span><span class="co">## grade_visual_textual := grade_visual * visual_textual</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan</a></span><span class="op">(</span><span class="va">model1</span>, data <span class="op">=</span> <span class="va">data</span>, auto.cov.lv.x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              auto.var<span class="op">=</span><span class="cn">TRUE</span>, auto.fix.first<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/nice_lavaanPlot.html">nice_lavaanPlot</a></span><span class="op">(</span><span class="va">fit1</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-ab913195b2e3056245cd" style="width:700px;height:432.632880098888px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-ab913195b2e3056245cd">{"x":{"diagram":" digraph plot { \n graph [ rankdir = LR ] \n node [ shape = box, fontname = Helvetica ] \n node [shape = box] \n visual; ageyr; grade; speed; textual \n node [shape = oval] \n  \n \n edge [ color = grey ] \n visual->speed [label = \"0.21***\"] visual->textual [label = \"0.24***\"] ageyr->visual [label = \"-0.16*\"] grade->visual [label = \"0.28***\"] ageyr->speed [label = \"\"] grade->speed [label = \"0.31***\"] ageyr->textual [label = \"-0.4***\"] grade->textual [label = \"0.36***\"]  \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="two-mediators-one-iv">Two mediators, one IV<a class="anchor" aria-label="anchor" href="#two-mediators-one-iv"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define our variables</span></span>
<span><span class="va">IV</span> <span class="op">&lt;-</span> <span class="st">"ageyr"</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"visual"</span>, <span class="st">"grade"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our lavaan lists</span></span>
<span><span class="va">mediation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">M</span>, textual <span class="op">=</span> <span class="va">M</span>, visual <span class="op">=</span> <span class="va">IV</span>, grade <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span><span class="va">regression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">IV</span>, textual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>IV <span class="op">=</span> <span class="va">IV</span>, M <span class="op">=</span> <span class="va">M</span>, DV <span class="op">=</span> <span class="va">DV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, indirect <span class="op">=</span> <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual + grade_speed*grade</span></span>
<span><span class="co">## textual ~ visual_textual*visual + grade_textual*grade</span></span>
<span><span class="co">## visual ~ ageyr_visual*ageyr</span></span>
<span><span class="co">## grade ~ ageyr_grade*ageyr</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ ageyr</span></span>
<span><span class="co">## textual ~ ageyr</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ageyr_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## ageyr_visual_textual := ageyr_visual * visual_textual</span></span>
<span><span class="co">## ageyr_grade_speed := ageyr_grade * grade_speed</span></span>
<span><span class="co">## ageyr_grade_textual := ageyr_grade * grade_textual</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan</a></span><span class="op">(</span><span class="va">model2</span>, data <span class="op">=</span> <span class="va">data</span>, auto.cov.lv.x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              auto.var<span class="op">=</span><span class="cn">TRUE</span>, auto.fix.first<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/nice_lavaanPlot.html">nice_lavaanPlot</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-2f7224ff95f699c3cfa0" style="width:700px;height:432.632880098888px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f7224ff95f699c3cfa0">{"x":{"diagram":" digraph plot { \n graph [ rankdir = LR ] \n node [ shape = box, fontname = Helvetica ] \n node [shape = box] \n visual; grade; ageyr; speed; textual \n node [shape = oval] \n  \n \n edge [ color = grey ] \n visual->speed [label = \"0.21***\"] grade->speed [label = \"0.31***\"] visual->textual [label = \"0.24***\"] grade->textual [label = \"0.36***\"] ageyr->visual [label = \"\"] ageyr->grade [label = \"0.51***\"] ageyr->speed [label = \"\"] ageyr->textual [label = \"-0.41***\"]  \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="two-mediators-two-ivs">Two mediators, two IVs<a class="anchor" aria-label="anchor" href="#two-mediators-two-ivs"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define our variables</span></span>
<span><span class="va">IV</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"ageyr"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define our lavaan lists</span></span>
<span><span class="va">mediation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">M</span>, textual <span class="op">=</span> <span class="va">M</span>, visual <span class="op">=</span> <span class="va">IV</span>, grade <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span><span class="va">regression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="va">IV</span>, textual <span class="op">=</span> <span class="va">IV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define indirect object</span></span>
<span><span class="va">indirect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>IV <span class="op">=</span> <span class="va">IV</span>, M <span class="op">=</span> <span class="va">M</span>, DV <span class="op">=</span> <span class="va">DV</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write the model, and check it</span></span>
<span><span class="va">model3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/write_lavaan.html">write_lavaan</a></span><span class="op">(</span><span class="va">mediation</span>, <span class="va">regression</span>, indirect <span class="op">=</span> <span class="va">indirect</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [-----------Mediations (named paths)-----------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ visual_speed*visual + grade_speed*grade</span></span>
<span><span class="co">## textual ~ visual_textual*visual + grade_textual*grade</span></span>
<span><span class="co">## visual ~ sex_visual*sex + ageyr_visual*ageyr</span></span>
<span><span class="co">## grade ~ sex_grade*sex + ageyr_grade*ageyr</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [---------Regressions (Direct effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## speed ~ sex + ageyr</span></span>
<span><span class="co">## textual ~ sex + ageyr</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ##################################################</span></span>
<span><span class="co">## # [--------Mediations (indirect effects)---------]</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## sex_visual_speed := sex_visual * visual_speed</span></span>
<span><span class="co">## sex_visual_textual := sex_visual * visual_textual</span></span>
<span><span class="co">## ageyr_visual_speed := ageyr_visual * visual_speed</span></span>
<span><span class="co">## ageyr_visual_textual := ageyr_visual * visual_textual</span></span>
<span><span class="co">## sex_grade_speed := sex_grade * grade_speed</span></span>
<span><span class="co">## sex_grade_textual := sex_grade * grade_textual</span></span>
<span><span class="co">## ageyr_grade_speed := ageyr_grade * grade_speed</span></span>
<span><span class="co">## ageyr_grade_textual := ageyr_grade * grade_textual</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan</a></span><span class="op">(</span><span class="va">model3</span>, data <span class="op">=</span> <span class="va">data</span>, auto.cov.lv.x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              auto.var<span class="op">=</span><span class="cn">TRUE</span>, auto.fix.first<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/nice_lavaanPlot.html">nice_lavaanPlot</a></span><span class="op">(</span><span class="va">fit3</span><span class="op">)</span></span></code></pre></div>
<div id="htmlwidget-4dba8d0a663835af841e" style="width:700px;height:432.632880098888px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-4dba8d0a663835af841e">{"x":{"diagram":" digraph plot { \n graph [ rankdir = LR ] \n node [ shape = box, fontname = Helvetica ] \n node [shape = box] \n visual; grade; sex; ageyr; speed; textual \n node [shape = oval] \n  \n \n edge [ color = grey ] \n visual->speed [label = \"0.24***\"] grade->speed [label = \"0.3***\"] visual->textual [label = \"0.25***\"] grade->textual [label = \"0.35***\"] sex->visual [label = \"-0.17**\"] ageyr->visual [label = \"\"] sex->grade [label = \"\"] ageyr->grade [label = \"0.52***\"] sex->speed [label = \"0.11*\"] ageyr->speed [label = \"\"] sex->textual [label = \"\"] ageyr->textual [label = \"-0.39***\"]  \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="other-scenarios">Other scenarios<a class="anchor" aria-label="anchor" href="#other-scenarios"></a>
</h2>
<p>If you experience any issues with other scenarios, please open a GitHub issue with your example, and I will try to adapt the function to support that case. Thank you!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://remi-theriault.com" class="external-link">Rémi Thériault</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
